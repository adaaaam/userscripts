// ==UserScript==
// @name                ChatGPT Auto Refresh ↻
// @name:af             ChatGPT Auto Verfris ↻
// @name:am             የአቃጥል GPT ራስሀሽ ↻
// @name:ar             ChatGPT تحديث تلقائي ↻
// @name:az             ChatGPT Avtomatik Yenilə ↻
// @name:be             Аўтаматычнае абнаўленне ChatGPT ↻
// @name:bem            ChatGPT Auto Sintalula ↻
// @name:bg             Автоматично опресняване на ChatGPT ↻
// @name:bn             ChatGPT স্বয়ংক্রিয় রিফ্রেশ ↻
// @name:bo             ChatGPT རེའུ་མིན་པར་སྣོད་དང་ ↻
// @name:bs             ChatGPT Automatsko Osvježavanje ↻
// @name:ca             ChatGPT Actualització Automàtica ↻
// @name:ckb            ChatGPT نوێکردنه‌وه‌ی خۆکار ↻
// @name:cs             ChatGPT Automatické obnovení ↻
// @name:cy             ChatGPT Adnewyddu Auto ↻
// @name:da             ChatGPT Automatisk Opdatering ↻
// @name:de             ChatGPT Automatisches Aktualisieren ↻
// @name:dv             ChatGPT އައްޗައިސް އަސްޓްރީ ↻
// @name:dz             ChatGPT རེའུ་མིན་པར་སྣོད་དང་ ↻
// @name:el             ChatGPT Αυτόματη Ανανέωση ↻
// @name:eo             ChatGPT Aŭtomata Refreŝigo ↻
// @name:es             ChatGPT Actualización Automática ↻
// @name:et             ChatGPT Automaatne Värskendamine ↻
// @name:eu             ChatGPT Automatikoki Freskatu ↻
// @name:fa             به روز رسانی خودکار ChatGPT ↻
// @name:fi             ChatGPT Automaattinen Päivitys ↻
// @name:fo             ChatGPT Auto Uppdatering ↻
// @name:fr             ChatGPT Actualisation Automatique ↻
// @name:fr-CA          ChatGPT Actualisation Automatique ↻
// @name:gd             ChatGPT Ath-bhualadh Aonaranach ↻
// @name:gl             ChatGPT Actualización Automática ↻
// @name:gu             ChatGPT સ્વચાલિત રિફ્રેશ ↻
// @name:haw            Hoʻonoho Hōʻike Auto ChatGPT ↻
// @name:he             רענון אוטומטי של ChatGPT ↻
// @name:hi             ChatGPT स्वचालित रीफ़्रेश ↻
// @name:hr             ChatGPT Automatsko Osvježavanje ↻
// @name:ht             ChatGPT Rafrechi Otomatik ↻
// @name:hu             ChatGPT Automatikus Frissítés ↻
// @name:hy             Ինքնաշխատ Թարմացում ChatGPT ↻
// @name:id             ChatGPT Pembaruan Otomatis ↻
// @name:is             ChatGPT Sjálfvirk Endurnýjun ↻
// @name:it             ChatGPT Aggiornamento Automatico ↻
// @name:ja             ChatGPT 自動更新 ↻
// @name:jv             Pembaruan Otomatis ChatGPT ↻
// @name:ka             ChatGPT ავტომატური განახლება ↻
// @name:kab            ChatGPT Akarẓim Aɣelnaw ↻
// @name:kk             ChatGPT Автоматты Жаңарту ↻
// @name:km             ChatGPT បន្ទាប់ពីបច្ចុប្បន្នភាព ↻
// @name:kn             ChatGPT ಸ್ವಯಂಚಾಲಿತ ರಿಫ್ರೆಶ್ ↻
// @name:ko             ChatGPT 자동 새로 고침 ↻
// @name:ky             ChatGPT Автоматтык Тазартуу ↻
// @name:la             ChatGPT Automatica Refectio ↻
// @name:lb             ChatGPT Automatescht Aktualiséieren ↻
// @name:lo             ChatGPT ປັບປຸງອັດຕະໂນມັດອັດຕະໂນມັດ ChatGPT ↻
// @name:lt             ChatGPT Automatinis Atnaujinimas ↻
// @name:lv             ChatGPT Automātiska Atsvaidzināšana ↻
// @name:mg             Fanavaozana Ankehitriny i ChatGPT ↻
// @name:mi             ChatGPT Whakahōu Aunoa ↻
// @name:mk             Автоматско освежување ChatGPT ↻
// @name:ml             ChatGPT ഓട്ടോ അപ്‌ഡേറ്റ് ↻
// @name:mn             ChatGPT Автоматаар Шинэчлэх ↻
// @name:ms             Penyegaran Auto ChatGPT ↻
// @name:mt             ChatGPT Rifreżġjar Awtomatiku ↻
// @name:my             ChatGPT အလိုအလျောက်ထပ်ဖြန် ↻
// @name:ne             ChatGPT आफ्नैजस्तै ताजा गर्नुहोस् ↻
// @name:nl             ChatGPT Automatische Vernieuwing ↻
// @name:no             ChatGPT Automatisk Oppdatering ↻
// @name:pa             ChatGPT ਆਟੋ ਰਿਫਰੈਸ਼ ↻
// @name:pap            ChatGPT Refreskamentu Automatico ↻
// @name:pl             ChatGPT Automatyczne Odświeżanie ↻
// @name:ps             د ChatGPT زما تازه کول ↻
// @name:pt             ChatGPT Atualização Automática ↻
// @name:pt-BR          ChatGPT Atualização Automática ↻
// @name:rn             ChatGPT Gushira Ubushyuhe ↻
// @name:ro             ChatGPT Reîmprospătare Automată ↻
// @name:ru             Автообновление ChatGPT ↻
// @name:sg             ChatGPT Rafraîchissement Auto ↻
// @name:si             ChatGPT ස්වයංක්රීය නැවතුම් ↻
// @name:sk             ChatGPT Automatické Obnovenie ↻
// @name:sl             ChatGPT Samodejna Osvežitev ↻
// @name:sm             ChatGPT Toeaina Auto Taulagaina ↻
// @name:sn             ChatGPT Rurefu Rakaita Zvakanaka ↻
// @name:so             ChatGPT Dib-u-helayna Xafiiska ↻
// @name:sr             ChatGPT Аутоматско Освежавање ↻
// @name:sv             ChatGPT Automatisk Uppdatering ↻
// @name:sw             ChatGPT Kupakia Moja kwa moja ↻
// @name:ta             ChatGPT தானியங்கி புதுப்பிப்பு ↻
// @name:te             ChatGPT ఆటో రిఫ్రెష్ ↻
// @name:tg             ChatGPT Таҷдиди худкори ChatGPT ↻
// @name:th             ChatGPT รีเฟรชอัตโนมัติ ↻
// @name:ti             ChatGPT ኣካውንታት እውነት ዓይኒ ↻
// @name:tk             ChatGPT Awtomatik Täzele ↻
// @name:tn             ChatGPT Tlhokomelo ya Moafrika ↻
// @name:to             ChatGPT Fakahā ʻihaotaha ↻
// @name:tpi            ChatGPT Awto Rifrehs ↻
// @name:tr             ChatGPT Otomatik Yenileme ↻
// @name:uk             Автоматичне Оновлення ChatGPT ↻
// @name:ur             خودکار تازہ کاری ChatGPT ↻
// @name:uz             ChatGPT Avtomatik Yangilash ↻
// @name:vi             ChatGPT Tự động Cập nhật ↻
// @name:xh             ChatGPT Ukunovusa Okuvela ↻
// @name:yi             ChatGPT אַטאַ אַקטואַליזירן ↻
// @name:zh             ChatGPT 自动刷新 ↻
// @name:zh-CN          ChatGPT 自动刷新 ↻
// @name:zh-HK          ChatGPT 自動刷新 ↻
// @name:zh-SG          ChatGPT 自动刷新 ↻
// @name:zh-TW          ChatGPT 自動刷新 ↻
// @name:zu             ChatGPT Ukusasaza Ngokuzenzakalelayo ↻
// @description         *SAFELY* keeps ChatGPT sessions fresh, eliminating 10-minute chat limits + constant network errors + Cloudflare checks
// @description:af      *VEILIG* hou ChatGPT-sessies vars deur 10-minuut-gesprekslimiete + konstante netwerkfoute en Cloudflare-kontrole te verwyder!
// @description:am      *ባርማ* ያደርጋል በ10 ደቂቃ መካከለኛ ገጽታ መድረስን፣ በተጠቃሚ እንዲያሳይ እና ክላይንት ፓስያንትን በሚያስተማሩበት!
// @description:ar      *بأمان* يحافظ على جلسات ChatGPT منتعشة من خلال القضاء على حدود الدردشة لمدة 10 دقائق + أخطاء الشبكة المستمرة + فحوصات Cloudflare!
// @description:az      *TƏHLÜKƏSİZ* 10 dəqiqəlik söhbət limitlərini, daimi şəbəkə səhvlərini və Cloudflare yoxlamalarını aradan qaldıraraq ChatGPT seanslarını təzə tutur!
// @description:be      *БЯСПЕКА* заўсёды захоўвае свежасць сэансаў ChatGPT, выдаляючы 10-хвілінныя абмежаванні размоў, пастаянныя сеткавыя памылкі і праверкі Cloudflare!
// @description:bem     *SAFELY* ikalilesha mayiko a ChatGPT ndi kusintha ma limits ogawana pa mapeto 10 ndi ma interneti osangalala + mapeza ndondomeko za Cloudflare! 
// @description:bg      *БЕЗОПАСНО* поддържа пряснота на сесиите в ChatGPT чрез премахване на 10-минутни лимити за чат, постоянни мрежови грешки и проверки на Cloudflare!
// @description:bn      *নিরাপদে* ১০ মিনিটের কথোপকথন সীমা, স্থায়ী নেটওয়ার্ক ত্রুটি এবং ক্লাউডফ্লেয়ার পরীক্ষা সরিয়ে ChatGPT সেশনগুলিকে তাজা রাখে!
// @description:bo      *རྒྱབ་བཞིན་པའི་* 10 ཟའ་གྲགས་བརྡ་བཀོད་རིམ་རྒྱུན་མིན་འདུག་འདྲི་བརྡ་བསྐོར་སེལ་མཐོང་གླུ་Cloudflare་རེ་དགོངས་འཕྲུལ་ཐོབ་མི་འདུག་པ་འཛིན་འབད་དགོས་པ། 
// @description:bs      *SIGURNO* održava ChatGPT sesije svježima, eliminišući 10-minutna ograničenja ćaska, stalne greške mreže i Cloudflare provjere!
// @description:ca      *SEGUR* manté les sessions de ChatGPT fresques, eliminant els límits de xat de 10 minuts + errors de xarxa constants i comprovacions de Cloudflare!
// @description:ceb     *KANUNAYON* nagapabilin nga magbinuligay ang mga ChatGPT nga sesyon pinaagi sa pagpahawa sa 10-minuto nga limitasyon sa chat + nagpadayon nga network nga mga sayop + Cloudflare checks!
// @description:ckb     *بەبێ پەیمانە* پشوودانی سنووری ١٠ خولەکی چات، هەڵەی شبکەیی کەسیی و بڵاودەکردنەوەکانی Cloudflare بۆ چاوانگە پەیوەندیکراوەکانی ChatGPT بڵاو دەکاتەوە!
// @description:cs      *BEZPEČNĚ* udržuje relace ChatGPT čerstvé odstraněním 10minutových limitů chatu, trvalých síťových chyb a kontrol Cloudflare!
// @description:cy      *YN DIOGEL* yn cadw sesiynau ChatGPT yn ffres trwy gael gwared ar gyfyngiadau sgwrs 10 munud + gwallau parhaus ar y rhwydwaith + gwiriadau Cloudflare!
// @description:da      *SIKKERT* holder ChatGPT-sessioner friske ved at fjerne 10-minutters chat-begrænsninger, konstante netværksfejl og Cloudflare-tjek!
// @description:de      *SICHER* hält ChatGPT-Sitzungen frisch, indem 10-Minuten-Chatbeschränkungen, ständige Netzwerkfehler und Cloudflare-Überprüfungen beseitigt werden!
// @description:dv      *ލައިންވެފަ* 10 މިނެޓުގެ ވާހަކަދެއްކުމުގެ މަގުތައް ބާތިލްކުރުމާއެކު ތެރޭގުން ChatGPT ޝެޑިޔާ ކޮންފައިން ދެންވަރުކޮށް ChatGPT ފުރައިވާ ދިބުމުގެ ސެއްޕަންތައް ކަމުގައި ބޭނުންވާނެއެވެ.
// @description:dz      *དགའ་བསྐྱིད་བཞུགས་བརྡ* 10 སྐར་མ་གི་ཟའ་གྲགས་རིམ་ལེབ་དག་ངོས་འཛིན་ལ་ཕྱིར་ ChatGPT སེལ་ཐུབ་རྐྱངས་རྫོགས་དང་ Cloudflare བཤད་པ་བཟོ་བ་འདི་རེ་འཛིན་པའི་དཀར་ཆག་ལེབ་བྱེད་པ།
// @description:el      *ΜΕ ΑΣΦΑΛΕΙΑ* διατηρεί τις συνεδρίες ChatGPT φρέσκιες, εξαλείφοντας περιορισμούς συνομιλίας 10 λεπτών + συνεχείς σφάλματα δικτύου και ελέγχους Cloudflare!
// @description:eo      *SEKURE* konservas freŝajn ChatGPT-sesiojn, forigante babiletajajn 10-minutajn limigojn + konstantajn reto-erarojn kaj Cloudflare-kontrolojn!
// @description:es      *SEGURO* mantiene las sesiones de ChatGPT frescas, eliminando los límites de chat de 10 minutos + errores de red constantes y verificaciones de Cloudflare!
// @description:et      *TURVALISELT* hoiab ChatGPT seansid värskena, eemaldades 10-minutilised vestluspiirangud, püsivad võrguvead ja Cloudflare'i kontrollid!
// @description:eu      *SEGUROA* ChatGPT saioak berrituak mantentzen ditu, 10 minutuko txat mugak kenduz, + sareko akats konstanteak eta Cloudflare egiaztapenak ezabatuz!
// @description:fa      *به طور ایمن* جلسات ChatGPT را تازه نگه می دارد، با حذف محدودیت چت ۱۰ دقیقه ای + خطاهای مداوم شبکه و بررسی های Cloudflare!
// @description:fi      *TURVALLISESTI* pitää ChatGPT-istunnot tuoreina poistamalla 10 minuutin chat-rajat + jatkuvat verkkovirheet ja Cloudflare-tarkistukset!
// @description:fo      *TRYGT* heldur ChatGPT-samrøður ferskar við at fjarstilla 10 minutta samrøðutakmarkanir + støðugar nettverksumbeinir og Cloudflare-próvtøkur!
// @description:fr      *EN TOUTE SÉCURITÉ* maintient les sessions ChatGPT fraîches, en éliminant les limites de chat de 10 minutes + les erreurs réseau constantes et les vérifications Cloudflare !
// @description:fr-CA   *EN TOUTE SÉCURITÉ* maintient les sessions ChatGPT fraîches, en éliminant les limites de chat de 10 minutes + les erreurs réseau constantes et les vérifications Cloudflare !
// @description:gd      *LEANTAINNEACH* a' cumail seiseanan ChatGPT tioram le bhith a' toirt air falbh cunartaichean còmhraidh 10 mionaidean + mearachdan làitheil sa chòmhdachd + sgrùdaidhean Cloudflare!
// @description:gl      *SEGURO* mantén as sesións de ChatGPT frescas, eliminando os límites de conversa de 10 minutos + erros constantes de rede e verificacións de Cloudflare!
// @description:gu      *સુરક્ષિતપણે* ChatGPT સેશનો તાજી રાખે છે, 10 મિનિટની વાતચીત મર્યાદા, સ્થાયી નેટવર્ક ભૂલો અને ક્લાઉડફ્લેર તપાસો કાઢી નાખીને!
// @description:haw     *KUHIAO* e mālama i nā helu hōʻāpono ChatGPT maikaʻi ma o ka lawe ʻana aku i nā palena kūkākūkā 10 minuke + mau ʻano hihia pūnaewele + nā hoʻokolokolo Cloudflare!
// @description:he      *בטחון* שומר על התחברויות ChatGPT טריות על ידי הסרת מגבלות שיחה של 10 דקות + שגיאות 
// @description:hi      *सुरक्षित रूप से* ChatGPT सत्रों को ताज़ा रखता है, 10 मिनट की चैट सीमाओं, सतत नेटवर्क त्रुटियों और क्लाउडफ़्लेयर जांच को दूर करते हुए।
// @description:hr      *SIGURNO* drži ChatGPT sesije svježima, uklanjajući 10-minutna ograničenja chata, stalne mrežne pogreške i Cloudflare provjere.
// @description:ht      *AN SEKIRITE* kenbe sesyon ChatGPT fre, lè li elimine limit chat 10 minit yo, erè sou rezo ki konstan epi tchèk Cloudflare yo.
// @description:hu      *BIZTONSÁGOSAN* frissíti a ChatGPT munkameneteket a 10 perces csevegési korlátozások, a folyamatos hálózati hibák és a Cloudflare ellenőrzések megszüntetésével.  
// @description:hy      *ԱՆՎՏԱՆԳՈՒԹՅՈՒՆ ՀԱՍԿԱՑՈՒՄԸ`* պահպանում է ChatGPT նիստերը թարմ, վերացնելով 10 րոպե չատի սահմանափակումները, մշտական ցանցային սխալները եւ Cloudflare ստուգումները:
// @description:id      *AMAN* menjaga sesi ChatGPT tetap segar, menghilangkan batas obrolan 10 menit, kesalahan jaringan yang konstan, dan pemeriksaan Cloudflare.
// @description:is      *ÖRUGGLEGA* heldur ChatGPT-spjallþáttum ferskum með því að eyða 10 mínútna spjalltakmörkunum, sífelldum netvillum og Cloudflare prófunum.
// @description:it      *IN SICUREZZA* mantiene fresche le sessioni ChatGPT, eliminando i limiti di chat di 10 minuti, gli errori di rete costanti e i controlli Cloudflare.
// @description:ja      *安全に*10分のチャット制限、定常的なネットワークエラー、Cloudflareチェックを排除することで、ChatGPTのセッションをフレッシュに保ちます。
// @description:jv      *AMAN* njaga sesi ChatGPT tetep anyar, ngilangi wates obrolan 10 menit, kesalahan jaringan sing konstan, lan pemeriksaan Cloudflare.
// @description:ka      *უსაფრთხოდ* ინარჩუნებს ChatGPT სესიების სიმცხვარეს, მოცილებულია 10 წუთიანი ჩეთის ლიმიტები, მუდმივი ქსელური შეცდომები და Cloudflare შემოწმებები.
// @description:kk      *ҚАУІПСІЗ* ChatGPT сессияларын жаңартып тұрады, 10 минуттық чат шектеулерін, тұрақты желі қателерін және Cloudflare тексерістерін жояды.
// @description:km      *ដោយសុវត្ថិភាព* រក្សាសម្ថភាពសន្ទនាថ្មីៗនៃសម័យ ChatGPT ដោយលុបចោលដែនកំណត់សន្ទនា 10 នាទី + កំហុសបណ្តាញជាប្រចាំ + ការពិនិត្យរបស់ Cloudflare។
// @description:kn      *ಸುರಕ್ಷಿತವಾಗಿ* 10 ನಿಮಿಷಗಳ ಚಾಟ್ ಮಿತಿಗಳು, ನಿರಂತರ ನೆಟ್‌ವರ್ಕ್ ದೋಷಗಳು ಮತ್ತು ಕ್ಲೌಡ್‌ಫ್ಲೇರ್ ಪರಿಶೀಲನೆಗಳನ್ನು ತೆಗೆದುಹಾಕುವ ಮೂಲಕ ChatGPT ಸತ್ರಗಳನ್ನು ಹೊಸದಾಗಿರಿಸುತ್ತದೆ.
// @description:ko      *안전하게* 10분 채팅 제한, 지속적인 네트워크 오류, 클라우드플레어 검사를 제거하여 ChatGPT 세션을 신선하게 유지합니다.
// @description:ku      *بە ئاسایی* بڵاویی چاتی دیمەنی ١٠ خولەکی، کێشەی شبکەیی ڕاستەوخۆ و دیاریکردنی چاودێریی کلاڵدفلەر باش دەکاتەوە، بە تازەکردنەوەی پەیوەندییەکانی چاتجیپیتی.
// @description:ky      *КООПСУЗДУК МЕНЕН* ChatGPT сессияларын жаңылап турат, 10 мүнөттүк чат чектөөлөрүн, туруктуу тармак каталарын жана Cloudflare текшерүүлөрүн алып салат.
// @description:la      *TUTO* sermones ChatGPT recentes servat, eliminans limitiones colloquii decem minutarum, errores crebros retis et inspectiones Cloudflare.
// @description:lb      *SÉCHER* hält d'ChatGPT-Sessiounen frësch, andeems d'10 Minutte Chat-Limitten, bestänneg Netzwierker an d'Cloudflare-Iwwerpréifungen ewech geholl ginn.
// @description:lo      *ດ້ວຍຄວາມປອດໄພ* ຮັກສາການສົນທະນາຂອງ ChatGPT ໃຫມ່ໂດຍ ລຶບກໍານົດເວລາແຊັດ 10 ນາທີ + ຂໍ້ຜິດພາດເຄືອຂ່າຍປະຈໍາ + ການກວດສອບຂອງ Cloudflare.
// @description:lt      *SAUGIAI* palaiko ChatGPT sesijas šviežias, pašalindama 10 minučių pokalbių apribojimus, nuolatinius tinklo trikdžius ir Cloudflare patikras.
// @description:lv      *DROŠI* uztur ChatGPT sesijas svaigas, noņemot 10 minūšu čata ierobežojumus, pastāvīgās tīkla kļūdas un Cloudflare pārbaudes.
// @description:mg      *MIANDRY ARA-KIRA* manamafy ny hetsika ChatGPT, manala ny fepetra fisalasana 10 minitra, ny diso amin'ny tambajotra mandritra ary ny fanamarinana amin'ny Cloudflare.
// @description:mi      *KA TŪTURU* e pupuri ana ngā poti ChatGPT mā te whakakore i ngā herenga kōrero 10 meneti, hapa whatunga rāroto + ngā aroturuki Cloudflare.   
// @description:mk      *БЕЗБЕДНО* ги одржува ChatGPT сесиите свежи, отстранувајќи 10-минутни ограничувања за ќерка, константни мрежни грешки и проверки на Cloudflare.
// @description:ml      *സുരക്ഷിതമായി* 10 മിനിറ്റ് ചാറ്റ് പരിധികൾ, തുടർച്ചയായ നെറ്റ്‌വർക്ക് പിശകുകൾ, ക്ലൗഡ്ഫ്ലെയർ പരിശോധനകൾ എന്നിവ ഒഴിവാക്കി ChatGPT സെഷനുകൾ പുതുമ നിലനിർത്തുന്നു.
// @description:mn      *АЮУЛГҮЙ БОЛОВЧ* 10 минутын чат хязгаарлыг, үргэлжилсэн сүлжээний алдаа, Cloudflare-ийн шалгалтуудыг хасаж ChatGPT-ийн сэшнүүдийг шинэчлэнд авна.
// @description:mr      *सुरक्षितपणे* १० मिनिटे गप्पामर्यादा, नित्य नेटवर्क त्रुटी आणि क्लाउडफ्लेअर तपासण्या दूर करून ChatGPT सत्र ताजे ठेवते.
// @description:ms      *DENGAN SELAMAT* mengekalkan sesi ChatGPT yang segar dengan menyingkirkan had sembang 10 minit, kesalahan rangkaian yang kerap, dan semakan Cloudflare.
// @description:mt      *B'SIGURTÀ* iżżomm sessjonijiet ChatGPT friski billi tneħħi l-limiti ta' ċavettaġġ ta' 10 minuti, żbalji fil-network persistenti, u kontrolli ta' Cloudflare.
// @description:my      *လုံးဝ လုံခြုံစွာ* ၁၀ မိနစ် စကားပြောချိန် ကန့်သတ်မှုများ၊ မြောက်မြောက် ကွန်ရက် ပြၚအမှားများနှင့် Cloudflare စစ်ဆေးမှုများကို ဖယ်ရှားကာ ChatGPT လေ့လာသင်ယူမှုများကို ပြန်လည်နောင်တင်ပေးသည်။   
// @description:ne      *सुरक्षितरूपमा* १० मिनेटको च्याट सीमा, निरन्तर नेटवर्क त्रुटि र क्लाउडफ्लेयर जाँचलाई हटाउँदै ChatGPT सत्रलाई ताजा राख्छ।
// @description:nl      *VEILIG* houdt ChatGPT-sessies vers door het elimineren van 10-minuten chatlimieten + constante netwerkfouten + Cloudflare-controles.
// @description:no      *TRYGT* holder ChatGPT-økter friske ved å fjerne 10-minutters chattebegrensninger + konstante nettverksfeil + Cloudflare-sjekker.
// @description:ny      *NDIWOYIMILIRENI* yatsikira mayiko a ChatGPT masophenya ndi kuchotsa malire ogawana pa maola makumi apamodzi + zolakwika zopusazozopa pa intaneti + zolingalira za Cloudflare.
// @description:pa      *ਸੁਰੱਖਿਅਤ* ChatGPT ਸੈਸ਼ਨਾਂ ਨੂੰ ਤਾਜ਼ਾ ਰੱਖਦਾ ਹੈ, 10 ਮਿੰਟ ਦੀਆਂ ਚੈਟ ਸੀਮਾਵਾਂ ਖ਼ਤਮ ਕਰਕੇ + ਲਗਾਤਾਰ ਨੈੱਟਵਰਕ ਗਲਤੀਆਂ + ਕਲਾਉਡਫਲੇਅਰ ਚੈੱਕ। 
// @description:pap     *SEGURO* ta mantene seshonnan di ChatGPT fresku dor di eliminá limitenan di 10 minüt di chèt + faltanan di red kontínuo + kontròlnan di Cloudflare.
// @description:pl      *BEZPIECZNIE* utrzymuje świeżość sesji ChatGPT, eliminując 10-minutowe ograniczenia czatu + stałe błędy sieciowe + kontrole Cloudflare.
// @description:ps      *په امنه* توګه د ChatGPT د سیشنونو تازګی ساتي، د ۱۰ دقیقو چت محدودیتونه، دوامداره شبکي غلطي او Cloudflare بررسۍ له منځه وړي.
// @description:pt      *COM SEGURANÇA* mantém as sessões do ChatGPT frescas, eliminando limites de chat de 10 minutos + erros de rede constantes + verificações do Cloudflare.
// @description:pt-BR   *COM SEGURANÇA* mantém as sessões do ChatGPT frescas, eliminando limites de chat de 10 minutos + erros de rede frequentes + checagens do Cloudflare.
// @description:rn      *MU BUNYAMINE* igasimburana ibijanye n'amasessyoni za ChatGPT zitanyuzwe, ikurwaho imipaka y'ugusegura imyumvire icumico + amakosa akomeye yo mu murongo w'ubucuruzi + igenzura rya Cloudflare.  
// @description:ro      *ÎN SIGURANȚĂ* menține sesiunile ChatGPT proaspete, eliminând limitele de chat de 10 minute + erorile constante de rețea + verificările Cloudflare.
// @description:ru      *БЕЗОПАСНО* поддерживает свежесть сеансов ChatGPT, устраняя 10-минутные ограничения чата + постоянные сетевые ошибки + проверки Cloudflare.
// @description:rw      *MU BUNYAMINE* ibikanika ibijanye n’amasesyoni ya ChatGPT bashya, ikuraho imipaka y’iseswa ry’iminota 10 + amakosa akomeje kw’itumanaho + igenzura rya Cloudflare.
// @description:sg      *NI ÌTỌJU* ṣiṣeda àwọn ìgbéṣẹ̀ ChatGPT tuntun nipa pari awọn ipò ìpolongo ọrọ̀lọ̀wọ́ 10 Onimẹji + awọn ṣiṣe ilana oníranlọ̀wọ́ + awọn adánilọ́jọ́ Cloudflare.
// @description:si      *ආරක්ෂිතව* ChatGPT සංසද නවීකරණය කරයි, මිනිත්තු 10 ක චැට් සීමා ඉවත් කරමින් + ස්ථිර ජාල දෝෂ + Cloudflare පරීක්ෂණ ඉවත් කරයි.
// @description:sk      *BEZPEČNE* udržiava relácie ChatGPT čerstvé odstránením 10-minútových limitov chatu + neustálych sieťových chýb + kontrol Cloudflare.
// @description:sl      *VARNO* ohranja sveže seje ChatGPT z odstranitvijo 10-minutnih omejitev klepetanja + nenehnih napak v omrežju + preverjanj Cloudflare.
// @description:sm      *MA FA'AMANUIAGA* e tiakina la'ia nei vaega o le fa'asalalauga, e masani ona fa'amalosi e 10 minute + tala esemanuuga nei i le polokalama asiasia + nisi'i Cloudflare.
// @description:sn      *KANA KUTAMBA WAKAWANDA* kugadzira matambudziko eChatGPT magariro nokudzinga mamwe maonero echirongwa che10min + zvivi zvisingakoni nekupera + ruzivo rweCloudflare.  
// @description:so      *SI AMMAAN* waxay xireynaysaa kulamadaha ChatGPT cusub, ka saaraysa xadka 10-daqiiqo ee wada-xadgudubka + xatooyinka shaabka waqti-dheer + baaritaan Cloudflare.
// @description:sr      *BEZBEDNO* održava sveže sesije ChatGPT eliminišući 10-minutna ograničenja ćaska, konstantne mrežne greške i Cloudflare provere.
// @description:sv      *SÄKERT* håller ChatGPT-sessioner fräscha genom att eliminera 10-minuters chattgränser + konstanta nätverksfel + Cloudflare-kontroller.
// @description:sw      *KWA USALAMA* huhifadhi mijadala ya ChatGPT ikiwa safi, ikiondoa mipaka ya mazungumzo ya dakika 10 + hitilafu za mtandao endelevu + ukaguzi wa Cloudflare.  
// @description:ta      *பாதுகாப்பாக* காப்பு செயலி காத்து வைக்கிறது. 10 நிமிட உரையாடல் வரம்புகள் + தொடர்ச்சியான வலையமைப்பு பிழைகள் + மேகக்கம்பெனி சோதனைகள் அகற்றப்படுகிறது. 
// @description:te      *సురక్షితంగా* 10 నిమిషాల చాట్ పరిమితులు, నిరంతర నెట్‌వర్క్ లోపాలు + క్లౌడ్‌ఫ్లేర్ తనిఖీలను తొలగించి ChatGPT సెషన్‌లను కొత్తగా ఉంచుతుంది.
// @description:tg      *БО ҲИФЗИ АМНИЯТ* ҷаласаҳои гуфтугӯи ChatGPT-ро тоза нигоҳ медорад, маҳдудияти 10-дақиқагии гуфтугӯро бартараф намуда, хатогиҳои доимии шабака ва санҷиши Cloudflare-ро аз байн мебарад.
// @description:th      *อย่างปลอดภัย* รักษาการเชื่อมต่อ ChatGPT ใหม่โดยการกําจัดขีด จํากัด การแชท 10 นาที + ข้อผิดพลาดของเครือข่ายตลอดเวลา + การตรวจสอบของ Cloudflare
// @description:ti      *ብናይ ደሞዝ* ኣብ ግዜ 10 ደቂቕ ድምጺ ገዚፍካ ክውዓል፡ ናብ ሕፅይቲ ምእታይን + ናይ Cloudflare ፍልጠትን ብምንምዓም ንገልጽነት ዝገበሮ ChatGPT ይቕይር።
// @description:tk      *HOWPSUZLYK BILEN* 10 minutly çekmeleri, durnukly internet ýalňyşlaryny we Cloudflare barlagyny aýyrmagyň üsti bilen ChatGPT mejlislerini täze saklaýar.
// @description:tn      *KA POLAOKEHI* e boloka dikopano tsa ChatGPT di ntšha ka ho tloša thekiso ya pocisano ya metsotso e 10 + diphoso tsa neteweke tse kileng + dipatlisiso tsa Cloudflare.
// @description:to      *'I HE FA'A'EA'EA'ANGA* 'oku ne papa'i 'a e ngaahi 'aofaki ki he ChatGPT 'i he fou, 'aki 'a e ngaahi ta'u kehekehe chatí ki he meniti 'e 10 + hili pea 'o e ngaahi me'angaue'aki 'a e néétuiaki + ngaahi sivi 'o e Cloudflare.
// @description:tr      *GÜVENLİ BİR ŞEKİLDE* 10 dakikalık sohbet sınırlarını, sürekli ağ hatalarını ve Cloudflare kontrollerini ortadan kaldırarak ChatGPT oturumlarını taze tutar.
// @description:uk      *БЕЗПЕЧНО* підтримує свіжість сеансів ChatGPT, усуваючи 10-хвилинні обмеження чату, постійні мережеві помилки та перевірки Cloudflare.
// @description:ur      *محفوظ* ChatGPT سیشنز کو تازہ رکھتا ہے، 10 منٹ کی چیٹ لمٹس، مستقل نیٹ ورک نقص + کلاڈ فلیئر چیکس ختم کرکے۔
// @description:uz      *XAVFSIZ* 10 daqiqa suhbat chegaralarini, doimiy tarmoq xatoliklarini va Cloudflare tekshiruvlarini yo‘qotish orqali ChatGPT sessiyalarini yangilab turadi.
// @description:vi      *AN TOÀN* giữ các phiên ChatGPT mới bằng cách loại bỏ giới hạn trò chuyện 10 phút + lỗi mạng liên tục + kiểm tra Cloudflare.
// @description:xh      *NGEKONAKALIYO* igcina amaseshoni we-ChatGPT entsha ngokususa imida yokuxoxa yemizuzu eli-10 + amathuba olu hlulekileyo womeli + ukuhlolwa kuka-Cloudflare.
// @description:yi      *זיכער* האלט ChatGPT סעסיעס פֿריש, דורך אַוועקנעמען 10 מינוט רעד גרעניצן, שטענדיק נעץ פֿעלערן + קלוידפֿלאַרע באַשעקן.
// @description:zh      *安全* 保持 ChatGPT 会话新鲜，消除 10 分钟聊天限制 + 持续的网络错误 + Cloudflare 检查
// @description:zh-CN   *安全* 保持 ChatGPT 会话新鲜，消除 10 分钟聊天限制 + 持续的网络错误 + Cloudflare 检查
// @description:zh-HK   *安全* 保持 ChatGPT 會話新鮮，消除 10 分鐘聊天限制 + 持續的網路錯誤 + Cloudflare 檢查
// @description:zh-SG   *安全* 保持 ChatGPT 会话新鲜，消除 10 分钟聊天限制 + 持续的网络错误 + Cloudflare 检查
// @description:zh-TW   *安全* 保持 ChatGPT 會話新鮮，消除 10 分鐘聊天限制 + 持續的網路錯誤 + Cloudflare 檢查
// @description:zu      *SAFELY* igcina izikhathi ze-ChatGPT zizintsha, isusa imikhawulo yengxoxo eyimizuzu eyi-10 + amaphutha enethiwekhi ahlala njalo + nokuhlola kwe-Cloudflare
// @author              Adam Lui
// @namespace           https://github.com/adamlui
// @version             2023.10.9.1
// @license             MIT
// @match               *://chat.openai.com/*
// @compatible          chrome
// @compatible          firefox
// @compatible          edge
// @compatible          opera
// @compatible          brave
// @compatible          vivaldi
// @compatible          waterfox
// @compatible          librewolf
// @compatible          ghost
// @compatible          qq
// @icon                https://raw.githubusercontent.com/adamlui/userscripts/master/chatgpt/media/icons/openai-favicon48.png
// @icon64              https://raw.githubusercontent.com/adamlui/userscripts/master/chatgpt/media/icons/openai-favicon64.png
// @require             https://cdn.jsdelivr.net/gh/kudoai/chatgpt.js@023d0bde2761ae57d2fd6ef485e8add560155c61/dist/chatgpt-2.3.6.min.js
// @connect             raw.githubusercontent.com
// @connect             greasyfork.org
// @grant               GM_setValue
// @grant               GM_getValue
// @grant               GM_registerMenuCommand
// @grant               GM_unregisterMenuCommand
// @grant               GM_openInTab
// @grant               GM.xmlHttpRequest
// @run-at              document-start
// @noframes
// @updateURL           https://greasyfork.org/scripts/462422/code/chatgpt-auto-refresh.meta.js
// @downloadURL         https://greasyfork.org/scripts/462422/code/chatgpt-auto-refresh.user.js
// @homepageURL         https://github.com/adamlui/chatgpt-auto-refresh
// @supportURL          https://github.com/adamlui/chatgpt-auto-refresh/issues
// ==/UserScript==

// NOTE: This script relies on the powerful chatgpt.js library @ https://chatgpt.js.org (c) 2023 KudoAI & contributors under the MIT license.

(async () => {

    // Init config
    const config = {
        prefix: 'chatgptAutoRefresh', appSymbol: '↻', userLanguage: chatgpt.getUserLanguage(),
        gitHubURL: 'https://github.com/adamlui/chatgpt-auto-refresh',
        greasyForkURL: 'https://greasyfork.org/scripts/462422-chatgpt-auto-refresh' }
    config.updateURL = config.greasyForkURL + '/code/chatgpt-auto-refresh.meta.js'
    config.assetHostURL = config.gitHubURL.replace('github.com', 'raw.githubusercontent.com') + '/main/'
    loadSetting('arDisabled', 'notifHidden', 'refreshInterval', 'toggleHidden')
    if (!config.refreshInterval) saveSetting('refreshInterval', 30) // init refresh interval to 30 secs if unset

    // Prevent sporadic convo resets
    const ogAEL = EventTarget.prototype.addEventListener
    EventTarget.prototype.addEventListener = function(type, listener, optionsOrUseCapture) {
        let calledByOpenAI = false
        if (type === 'focus' && this === unsafeWindow || type === 'visibilitychange') {
            const callStack = new Error().stack + '\n',
                  aelCaller = callStack.match(/-extension:\/\/.*\n(.+)/)?.[1]
            calledByOpenAI = !aelCaller?.includes('-extension://')
            if (calledByOpenAI && type === 'visibilitychange') {
                ogAEL.call(this, type, function(event) {
                    if (document.visibilityState !== 'visible') listener.call(this, event)
                }, optionsOrUseCapture)
        }}
        if (!calledByOpenAI) ogAEL.apply(this, arguments)
    }

    // Define messages
    const msgsLoaded = new Promise(resolve => {
        const msgHostDir = config.assetHostURL + 'greasemonkey/_locales/',
              msgLocaleDir = ( config.userLanguage ? config.userLanguage.replace('-', '_') : 'en' ) + '/'
        let msgHref = msgHostDir + msgLocaleDir + 'messages.json', msgXHRtries = 0
        GM.xmlHttpRequest({ method: 'GET', url: msgHref, onload: onLoad })
        function onLoad(response) {
            try { // to return localized messages.json
                const messages = new Proxy(JSON.parse(response.responseText), {
                    get(target, prop) { // remove need to ref nested keys
                        if (typeof target[prop] === 'object' && target[prop] !== null && 'message' in target[prop]) {
                            return target[prop].message
                }}}) ; resolve(messages)
            } catch (error) { // if 404
                msgXHRtries++ ; if (msgXHRtries == 3) return // try up to 3X (original/region-stripped/EN) only
                msgHref = config.userLanguage.includes('-') && msgXHRtries == 1 ? // if regional lang on 1st try...
                    msgHref.replace(/(.*)_.*(\/.*)/, '$1$2') // ...strip region before retrying
                        : ( msgHostDir + 'en/messages.json' ) // else use default English messages
                GM.xmlHttpRequest({ method: 'GET', url: msgHref, onload: onLoad })
            }
        }
    }) ; const messages = await msgsLoaded

    // Init/register menu
    let menuIDs = [], state = { symbol: ['✔️', '❌'], word: ['ON', 'OFF'],
                                separator: getUserscriptManager() === 'Tampermonkey' ? ' — ' : ': ' }
    await chatgpt.isLoaded() ; registerMenu() // create browser toolbar menu

    // Stylize toggle switch
    const switchStyle = document.createElement('style')
    switchStyle.innerText = '.switch { position:absolute ; left: 208px ; width: 34px ; height: 18px } '
        + '.switch input { opacity: 0 ; width: 0 ; height: 0 } ' // hide checkbox
        + '.slider { position: absolute ; cursor: pointer ; top: 0 ; left: 0 ; right: 0 ; bottom: 0 ; '
            + 'background-color: #ccc ; -webkit-transition: .4s ; transition: .4s ; border-radius: 28px } '
        + '.slider:before { position: absolute ; content: "" ; height: 14px ; width: 14px ; left: 3px ; bottom: 2px ; '
            + 'background-color: white ; -webkit-transition: .4s ; transition: .4s ; border-radius: 28px } '

        // Position/color ON-state
        + 'input:checked { position: absolute ; right: 3px } '
        + 'input:checked + .slider { background-color: #42B4BF } '
        + 'input:checked + .slider:before { '
            + '-webkit-transform: translateX(14px) translateY(1px) ; '
            + '-ms-transform: translateX(14px) translateY(1px) ; '
            + 'transform: translateX(14px) }'

    document.head.appendChild(switchStyle)

    // Create toggle label, add styles/classes/listener/HTML
    const toggleLabel = document.createElement('div') // create label div
    toggleLabel.style.maxHeight = '44px' // prevent flex overgrowth
    toggleLabel.style.margin = '2px 0' // add v-margins
    toggleLabel.style.userSelect = 'none' // prevent highlighting
    for (const navLink of document.querySelectorAll('nav[aria-label="Chat history"] a')) { // inspect sidebar for classes to borrow
        if (/(new|clear) chat/i.test(navLink.text)) { // focus on new/clear chat button
            toggleLabel.setAttribute('class', navLink.classList) // borrow link classes
            navLink.parentNode.style.margin = '2px 0' // add v-margins
            break // stop looping since class assignment is done
    }}
    toggleLabel.addEventListener('click', () => { // add listener to toggle switch/label/config/menu/auto-refresh
        const toggleInput = document.querySelector('#arToggleInput')
        toggleInput.checked = !toggleInput.checked
        setTimeout(updateToggleHTML, 200) // sync label change w/ switch movement
        config.arDisabled = !toggleInput.checked
        for (const id of menuIDs) { GM_unregisterMenuCommand(id) } registerMenu() // refresh menu
        if (!config.arDisabled && !chatgpt.autoRefresh.isActive) {
            chatgpt.autoRefresh.activate(config.refreshInterval)
            if (!config.notifHidden) notify(messages.menuLabel_autoRefresh + ': ON')
        } else if (config.arDisabled && chatgpt.autoRefresh.isActive) {
            chatgpt.autoRefresh.deactivate()
            if (!config.notifHidden) notify(messages.menuLabel_autoRefresh + ': OFF')
        } saveSetting('arDisabled', config.arDisabled)
    })
    updateToggleHTML()

    // Insert full toggle on page load + during navigation // 在导航期间插入页面加载 + 的完整切换
    insertToggle()
    const nodeObserver = new MutationObserver((mutations) => {
        mutations.forEach((mutation) => {
            if (mutation.type === 'childList' && mutation.addedNodes.length) {
                insertToggle()
    }})}) ; nodeObserver.observe(document.documentElement, { childList: true, subtree: true })

    // Activate auto-refresh on first visit if enabled
    if (!config.arDisabled) {
        chatgpt.autoRefresh.activate(config.refreshInterval)
        if (!config.notifHidden) notify(messages.menuLabel_autoRefresh + ': ON')
    }

    // Define SCRIPT functions

    function loadSetting(...keys) { keys.forEach(key => { config[key] = GM_getValue(config.prefix + '_' + key, false) })}
    function saveSetting(key, value) { GM_setValue(config.prefix + '_' + key, value) ; config[key] = value }
    function safeWindowOpen(url) { window.open(url, '_blank', 'noopener') } // to prevent backdoor vulnerabilities

    function updateCheck() {

        // Fetch latest meta
        const currentVer = GM_info.script.version
        GM.xmlHttpRequest({
            method: 'GET', url: config.updateURL + '?t=' + Date.now(),
            headers: { 'Cache-Control': 'no-cache' },
            onload: (response) => {

                // Compare versions
                const latestVer = /@version +(.*)/.exec(response.responseText)[1]
                for (let i = 0 ; i < 4 ; i++) { // loop thru subver's
                    const currentSubVer = parseInt(currentVer.split('.')[i], 10) || 0,
                          latestSubVer = parseInt(latestVer.split('.')[i], 10) || 0
                    if (currentSubVer > latestSubVer) break // out of comparison since not outdated
                    else if (latestSubVer > currentSubVer) { // if outdated

                        // Alert to update
                        const updateAlertID = alert(messages.alert_updateAvail + '! 🚀', // title
                            `${ messages.alert_newerVer } ${ messages.appName } (v${ latestVer }) ${ messages.alert_isAvail }!   `
                                + '<a target="_blank" rel="noopener" style="font-size: 0.7rem" '
                                    + 'href="' + config.gitHubURL + '/commits/main/greasemonkey/'
                                    + config.updateURL.replace(/.*\/(.*)meta\.js/, '$1user.js') + '" '
                                    + `>${ messages.link_viewChanges }</a>`,
                            function update() { // button
                                GM_openInTab(config.updateURL.replace('meta.js', 'user.js') + '?t=' + Date.now(),
                                    { active: true, insert: true } // focus, make adjacent
                                ).onclose = () => location.reload() }
                        )

                        // Localize button labels if needed
                        if (!config.userLanguage.startsWith('en')) {
                            const updateAlert = document.querySelector(`[id="${ updateAlertID }"]`),
                                  updateButtons = updateAlert.querySelectorAll('button')
                            updateButtons[1].textContent = messages.buttonLabel_update
                            updateButtons[0].textContent = messages.buttonLabel_dismiss
                        }

                        return
                }}

                alert(messages.alert_upToDate + '!', `${ messages.appName } (v${ currentVer }) ${ messages.alert_isUpToDate }!`)
    }})}

    // Define MENU functions

    function getUserscriptManager() { try { return GM_info.scriptHandler } catch (error) { return 'other' }}

    function registerMenu() {
        menuIDs = [] // empty to store newly registered cmds for removal while preserving order

        // Add command to toggle auto-refresh
        const arLabel = state.symbol[+config.arDisabled] + ' ' + messages.menuLabel_autoRefresh + ' ↻ '
                      + state.separator + state.word[+config.arDisabled]
        menuIDs.push(GM_registerMenuCommand(arLabel, () => {
            document.querySelector('#arToggleLabel').click()
        }))

        // Add command to toggle visibility of toggle
        const tvLabel = state.symbol[+config.toggleHidden] + ' ' + messages.menuLabel_toggleVis
                      + state.separator + state.word[+config.toggleHidden]
        menuIDs.push(GM_registerMenuCommand(tvLabel, () => {
            saveSetting('toggleHidden', !config.toggleHidden)
            toggleLabel.style.display = config.toggleHidden ? 'none' : 'flex' // toggle visibility
            if (!config.notifHidden)
                notify(messages.menuLabel_toggleVis + ': '+ state.word[+config.toggleHidden])
            for (const id of menuIDs) { GM_unregisterMenuCommand(id) } registerMenu() // refresh menu
        }))

        // Add command to show notifications when switching modes
        const mnLabel = state.symbol[+config.notifHidden] + ' ' + messages.menuLabel_modeNotifs
                      + state.separator + state.word[+config.notifHidden]
        menuIDs.push(GM_registerMenuCommand(mnLabel, () => {
            saveSetting('notifHidden', !config.notifHidden)
            notify(messages.menuLabel_modeNotifs + ': ' + state.word[+config.notifHidden])
            for (const id of menuIDs) { GM_unregisterMenuCommand(id) } registerMenu() // refresh menu
        }))

        // Add command to change refresh interval
        const riLabel = '⌚ ' + messages.menuLabel_refreshInt + ' ' + state.separator + config.refreshInterval + 's'
        menuIDs.push(GM_registerMenuCommand(riLabel, () => {
            while (true) {
                const refreshInterval = prompt(`${ messages.prompt_updateInt }:`, config.refreshInterval)
                if (refreshInterval === null) break // user cancelled so do nothing
                else if (!isNaN(parseInt(refreshInterval)) && parseInt(refreshInterval) > 0) { // valid int set
                    saveSetting('refreshInterval', parseInt(refreshInterval))
                    if (chatgpt.autoRefresh.isActive) { // reset running auto-refresh
                        chatgpt.autoRefresh.deactivate()
                        chatgpt.autoRefresh.activate(refreshInterval)
                    }
                    for (const id of menuIDs) { GM_unregisterMenuCommand(id) } registerMenu() // refresh menu
                    const minInterval = Math.max(2, config.refreshInterval - 10),
                          maxInterval = config.refreshInterval + 10
                    alert(messages.alert_intUpdated + '!',
                        `${ messages.alert_willRefresh } ${ minInterval }–${ maxInterval } ${ messages.unit_secs }`)
                    break
        }}}))

        // Add command to launch About modal
        menuIDs.push(GM_registerMenuCommand(`💡 ${ messages.menuLabel_about } ${ messages.appName }`, async () => {

            // Show alert
            const chatgptJSver = /chatgpt-([\d.]+)\.min/.exec(GM_info.script.header)[1] || '',
                  headingStyle = 'font-size: 1.15rem',
                  pStyle = 'position: relative ; left: 3px',
                  pBrStyle = 'position: relative ; left: 4px ',
                  aStyle = 'color: #8325c4' // purple
            const aboutAlertID = alert(
                messages.appName, // title
                `<span style="${ headingStyle }"><b>🏷️ <i>${ messages.about_version }</i></b>: </span>`
                    + `<span style="${ pStyle }">${ GM_info.script.version }</span>\n`
                + `<span style="${ headingStyle }"><b>⚡ <i>${ messages.about_poweredBy }</i></b>: </span>`
                    + `<span style="${ pStyle }"><a style="${ aStyle }" href="https://chatgpt.js.org" target="_blank" rel="noopener">`
                    + 'chatgpt.js</a>' + ( chatgptJSver ? ( ' v' + chatgptJSver ) : '' ) + '</span>\n'
                + `<span style="${ headingStyle }"><b>📜 <i>${ messages.about_sourceCode }</i></b>:</span>\n`
                    + `<span style="${ pBrStyle }"><a href="${ config.gitHubURL }" target="_blank" rel="nopener">`
                    + config.gitHubURL + '</a></span>',
                [ // buttons
                    function checkForUpdates() { updateCheck() },
                    function leaveAReview() { // show new modal
                        const reviewAlertID = chatgpt.alert(messages.alert_choosePlatform + ':', '',
                            [ function greasyFork() { safeWindowOpen(config.greasyForkURL + '/feedback#post-discussion') },
                              function futurepedia() { safeWindowOpen(
                                  'https://www.futurepedia.io/tool/chatgpt-auto-refresh#chatgpt-auto-refresh-review') }])
                        document.getElementById(reviewAlertID).querySelector('button')
                            .style.display = 'none' } // hide Dismiss button
                ]
            )

            // Re-format buttons to include emojis + re-case + hide Dismiss button
            for (const button of document.getElementById(aboutAlertID).querySelectorAll('button')) {
                if (/updates/i.test(button.textContent)) button.textContent = '🚀 ' + messages.buttonLabel_updateCheck
                else if (/review/i.test(button.textContent)) button.textContent = '⭐ ' + messages.buttonLabel_leaveReview
                else button.style.display = 'none' // hide Dismiss button
            }
        }))
    }

    // Define FEEDBACK functions

    function notify(msg, position = '', notifDuration = '', shadow = '') {
        chatgpt.notify(`${ config.appSymbol } ${ msg }`, position, notifDuration, shadow || chatgpt.isDarkMode() ? '' : 'shadow') }

    function alert(title = '', msg = '', btns = '', checkbox = '', width = '') {
        return chatgpt.alert(`${ config.appSymbol } ${ title }`, msg, btns, checkbox, width )}

    // Define TOGGLE functions

    function insertToggle() {
        const chatHistoryNav = document.querySelector('nav[aria-label="Chat history"]') || {},
              firstButton = chatHistoryNav.querySelector('a') || {}
        if (chatgpt.history.isOff()) // hide enable-history spam div
            try { firstButton.parentNode.nextElementSibling.style.display = 'none' } catch (error) {}
        if (!chatHistoryNav.contains(toggleLabel)) // insert toggle
            try { chatHistoryNav.insertBefore(toggleLabel, firstButton.parentNode) } catch (error) {}
    }

    function updateToggleHTML() {
        while (toggleLabel.firstChild) toggleLabel.firstChild.remove() // clear old content

        // Create elements
        const navicon = document.createElement('img'),
              label = document.createElement('label'),
              labelText = document.createTextNode(messages.menuLabel_autoRefresh + ' '
                  + ( messages['state_' + ( config.arDisabled ? 'disabled' : 'enabled' )])),
              input = document.createElement('input'),
              span = document.createElement('span')
        navicon.src = config.assetHostURL + 'media/images/icons/auto-refresh-navicon-light-155.png' ; navicon.width = 18
        label.id = 'arToggleLabel' ; label.className = 'switch'
        input.id = 'arToggleInput' ; input.type = 'checkbox' ; input.disabled = true ; input.checked = !config.arDisabled
        span.className = 'slider'

        // Append elements
        label.appendChild(input) ; label.appendChild(span)
        toggleLabel.appendChild(navicon) ; toggleLabel.appendChild(label) ; toggleLabel.appendChild(labelText)

        // Update visibility
        toggleLabel.style.display = config.toggleHidden ? 'none' : 'flex'
    }

})()
